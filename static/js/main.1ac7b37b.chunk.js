(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{23:function(e,t,n){e.exports={game:"Game_game__3BW-e"}},24:function(e,t,n){e.exports={board:"Board_board__1oBCK",turn:"Board_turn__MXL-J",title:"Board_title__52m9Q"}},30:function(e,t,n){e.exports={title:"GameModal_title__2KBcm",dialog:"GameModal_dialog___lyuC"}},33:function(e,t,n){e.exports={container:"Home_container__Mgayj",title:"Home_title__3qwX2"}},53:function(e,t,n){e.exports={square:"Square_square__18Cnv"}},55:function(e,t,n){e.exports={btn:"Button_btn__1vtC0"}},62:function(e,t,n){},63:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(52),u=n.n(a),s=(n(62),n(63),n(21)),i=n(2),o=n(57),l=n(34),j=n(4),b=function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(Array(9).fill(null)),u=Object(j.a)(a,2),s=u[0],i=u[1],o=Object(r.useState)(!0),l=Object(j.a)(o,2),b=l[0],f=l[1];return{markSquare:function(e,t){i((function(n){return n.map((function(n,r){return r===e?t?"X":"O":n}))}))},toggleX:function(){c((function(e){return!e}))},toggleXTurn:function(){f((function(e){return!e}))},resetSquares:function(){return i(Array(9).fill(null))},squares:s,xTurn:b,isX:n}},f=n(53),h=n.n(f),O=n(1);var d=function(e){var t=e.value,n=e.index,r=e.handleClick,c=e.isX,a=e.yourTurn;return Object(O.jsx)("button",{onClick:function(){return a&&r(n,c)},className:h.a.square,children:t})},x=n(24),m=n.n(x),g=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var r=Object(j.a)(t[n],3),c=r[0],a=r[1],u=r[2];if(e[c]&&e[c]===e[a]&&e[c]===e[u])return e[c]}return null},v=function(e){return e.includes(null)};var _=function(e){var t=e.squares,n=e.handleClick,r=e.xTurn,a=e.isX,u=a&&r||!a&&!r,s=null;v(t)||(s="It's a draw"),g(t)&&(s=u?"You lose":"You Won");var i="";return i=u?"Your Turn":r?"X Turn":"O Turn",Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)("h1",{className:m.a.title,children:" Tic-Tac-Toe"}),Object(O.jsx)("div",{className:m.a.board,children:t.map((function(e,t){return Object(O.jsx)(d,{yourTurn:u,isX:a,index:t,handleClick:n,value:e},t)}))}),Object(O.jsxs)("div",{className:m.a.turn,children:["     ",s||i," "]})]})},T=n(54),p=n.n(T),q=n(23),k=n.n(q),C=n(55),S=n.n(C);var X=function(e){var t=e.handleClick,n=e.text;return Object(O.jsx)("button",{className:S.a.btn,onClick:t,children:n})},y=n(30),N=n.n(y);var w=function(e){var t=e.handleRematch,n=e.wantRematch,a=Object(r.useState)("Would you like a rematch?"),u=Object(j.a)(a,2),s=u[0],i=u[1];return Object(r.useEffect)((function(){n&&i("Waiting on the other player")}),[n]),Object(O.jsxs)("dialog",{className:N.a.dialog,open:!0,children:[Object(O.jsx)("h2",{className:N.a.title,children:s}),!n&&Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)(X,{text:"Accept",handleClick:function(){return t(!0)}}),Object(O.jsx)(X,{text:"Decline",handleClick:function(){return t(!1)}})]})]})};function B(){var e=b(),t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],a=n[1],u=Object(r.useState)(""),s=Object(j.a)(u,2),f=s[0],h=s[1],d=Object(r.useState)([]),x=Object(j.a)(d,2),m=x[0],T=x[1],q=Object(r.useState)(!1),C=Object(j.a)(q,2),S=C[0],y=C[1],N=Object(i.f)(),B=Object(r.useState)(!1),G=Object(j.a)(B,2),M=G[0],R=G[1],P=e.resetSquares,F=e.squares,E=Object(r.useRef)();return Object(r.useEffect)((function(){var t=p()("http://localhost:3001/");return E.current=t,E.current.emit("Join Game"),E.current.on("Start Game",(function(e){a(e)})),E.current.on("Rematch",(function(e){T((function(t){return[].concat(Object(l.a)(t),[e])}))})),E.current.on("Join Game",(function(t){t||e.toggleX(),E.current.on("Mark",(function(t,n){e.markSquare(t,n),e.toggleXTurn()}))})),E.current.on("Leave Game",(function(e){h(e)})),function(){E.current.close()}}),[]),Object(r.useEffect)((function(){!g(F)&&v(F)||y(!0),m.includes(!1)?(E.current.emit("Leave Game",c,"Game Over, click to go to the main menu"),y(!1)):2===m.length&&(y(!1),P(),T([]),R(!1))}),[m,P,N,F,c]),c?Object(O.jsxs)("div",{className:k.a.game,children:[f&&Object(O.jsx)(X,{text:f,handleClick:function(){return N.push("/")}}),Object(O.jsx)(_,Object(o.a)({handleClick:function(t,n){g(e.squares)||!v(e.squares)||M||e.squares[t]||E.current.emit("Mark",c,t)}},e)),S&&Object(O.jsx)(w,{wantRematch:M,rematchRequests:m,handleRematch:function(e){M||(R(e),T((function(t){return[].concat(Object(l.a)(t),[e])})),E.current.emit("Rematch",e,c))}})]}):Object(O.jsx)("h2",{children:" Waiting for the other player "})}var G=n(33),M=n.n(G);function R(){var e=Object(i.f)();return Object(O.jsxs)("div",{className:M.a.container,children:[Object(O.jsx)("h1",{className:M.a.title,children:"Tic-Tac-Toe"}),Object(O.jsx)(X,{text:"Single Player",handleClick:function(){return e.push("/SinglePlayer")}}),Object(O.jsx)(X,{text:"Two Player",handleClick:function(){return e.push("/TwoPlayer")}})]})}function P(){var e=b(),t=e.markSquare,n=e.toggleXTurn,c=Object(r.useCallback)((function(r,c){g(e.squares)||!v(e.squares)||e.squares[r]||(t(r,c),n())}),[t,n,e.squares]);return Object(r.useEffect)((function(){if(e.isX&&!e.xTurn||!e.isX&&e.xTurn){var t=function(e){for(var t=[],n=0;n<e.length;n++)e[n]||t.push(n);var r=Math.random()*t.length;return t[r=Math.floor(r)]}(e.squares);c(t,!e.isX)}}),[e.isX,e.xTurn,e.squares,c]),Object(O.jsxs)("div",{className:k.a.game,children:[Object(O.jsx)(_,{isX:e.isX,xTurn:e.xTurn,handleClick:c,squares:e.squares}),Object(O.jsx)(X,{handleClick:e.resetSquares,text:"Reset"})]})}var F=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(s.a,{basename:"/Tic-Tac-Toe",children:Object(O.jsxs)(i.c,{children:[Object(O.jsx)(i.a,{exact:!0,path:"/TwoPlayer",children:Object(O.jsx)(B,{})}),Object(O.jsx)(i.a,{exact:!0,path:"/SinglePlayer",children:Object(O.jsx)(P,{})}),Object(O.jsx)(i.a,{exact:!0,path:"/",children:Object(O.jsx)(R,{})})]})})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,100)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,u=t.getTTFB;n(e),r(e),c(e),a(e),u(e)}))};u.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(F,{})}),document.getElementById("root")),E()}},[[99,1,2]]]);
//# sourceMappingURL=main.1ac7b37b.chunk.js.map