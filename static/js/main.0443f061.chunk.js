(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{23:function(e,t,n){e.exports={game:"Game_game__3BW-e"}},24:function(e,t,n){e.exports={board:"Board_board__1oBCK",turn:"Board_turn__MXL-J",title:"Board_title__52m9Q"}},30:function(e,t,n){e.exports={title:"GameModal_title__2KBcm",dialog:"GameModal_dialog___lyuC"}},33:function(e,t,n){e.exports={container:"Home_container__Mgayj",title:"Home_title__3qwX2"}},53:function(e,t,n){e.exports={square:"Square_square__18Cnv"}},55:function(e,t,n){e.exports={btn:"Button_btn__1vtC0"}},62:function(e,t,n){},63:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(52),u=n.n(a),s=(n(62),n(63),n(21)),i=n(2),o=n(57),l=n(34),j=n(4),b=function(){var e=Object(c.useState)(!0),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(Array(9).fill(null)),u=Object(j.a)(a,2),s=u[0],i=u[1],o=Object(c.useState)(!0),l=Object(j.a)(o,2),b=l[0],f=l[1];return{markSquare:function(e,t){i((function(n){return n.map((function(n,c){return c===e?t?"X":"O":n}))}))},toggleX:function(){r((function(e){return!e}))},toggleXTurn:function(){f((function(e){return!e}))},resetSquares:function(){return i(Array(9).fill(null))},squares:s,xTurn:b,isX:n}},f=n(53),h=n.n(f),O=n(1);var d=function(e){var t=e.value,n=e.index,c=e.handleClick,r=e.isX,a=e.yourTurn;return Object(O.jsx)("button",{onClick:function(){return a&&c(n,r)},className:h.a.square,children:t})},x=n(24),m=n.n(x),g=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var c=Object(j.a)(t[n],3),r=c[0],a=c[1],u=c[2];if(e[r]&&e[r]===e[a]&&e[r]===e[u])return e[r]}return null},v=function(e){return e.includes(null)};var _=function(e){var t=e.squares,n=e.handleClick,c=e.xTurn,a=e.isX,u=a&&c||!a&&!c,s=null;v(t)||(s="It's a draw"),g(t)&&(s=u?"You lose":"You Won");var i="";return i=u?"Your Turn":c?"X Turn":"O Turn",Object(O.jsxs)(r.a.Fragment,{children:[Object(O.jsx)("h1",{className:m.a.title,children:" Tic-Tac-Toe"}),Object(O.jsx)("div",{className:m.a.board,children:t.map((function(e,t){return Object(O.jsx)(d,{yourTurn:u,isX:a,index:t,handleClick:n,value:e},t)}))}),Object(O.jsxs)("div",{className:m.a.turn,children:["     ",s||i," "]})]})},p=n(54),T=n.n(p),q=n(23),k=n.n(q),C=n(55),S=n.n(C);var X=function(e){var t=e.handleClick,n=e.text;return Object(O.jsx)("button",{className:S.a.btn,onClick:t,children:n})},y=n(30),N=n.n(y);var w=function(e){var t=e.handleRematch,n=e.wantRematch,a=Object(c.useState)("Would you like a rematch?"),u=Object(j.a)(a,2),s=u[0],i=u[1];return Object(c.useEffect)((function(){n&&i("Waiting on the other player")}),[n]),Object(O.jsxs)("dialog",{className:N.a.dialog,open:!0,children:[Object(O.jsx)("h2",{className:N.a.title,children:s}),!n&&Object(O.jsxs)(r.a.Fragment,{children:[Object(O.jsx)(X,{text:"Accept",handleClick:function(){return t(!0)}}),Object(O.jsx)(X,{text:"Decline",handleClick:function(){return t(!1)}})]})]})};function B(){var e=b(),t=Object(c.useState)(""),n=Object(j.a)(t,2),r=n[0],a=n[1],u=Object(c.useState)(""),s=Object(j.a)(u,2),f=s[0],h=s[1],d=Object(c.useState)([]),x=Object(j.a)(d,2),m=x[0],p=x[1],q=Object(c.useState)(!1),C=Object(j.a)(q,2),S=C[0],y=C[1],N=Object(i.f)(),B=Object(c.useState)(!1),G=Object(j.a)(B,2),M=G[0],R=G[1],P=e.resetSquares,F=e.squares,E=Object(c.useRef)();return Object(c.useEffect)((function(){var t=T()("https://tic-tac-toe101.herokuapp.com/");return E.current=t,E.current.emit("Join Game"),E.current.on("Start Game",(function(e){a(e)})),E.current.on("Rematch",(function(e){p((function(t){return[].concat(Object(l.a)(t),[e])}))})),E.current.on("Join Game",(function(t){t||e.toggleX(),E.current.on("Mark",(function(t,n){e.markSquare(t,n),e.toggleXTurn()}))})),E.current.on("Leave Game",(function(e){h(e),E.current.close()})),function(){E.current.close()}}),[]),Object(c.useEffect)((function(){!g(F)&&v(F)||y(!0),m.includes(!1)?(E.current.emit("Leave Game",r,"Game Over, click to go to the main menu"),y(!1)):2===m.length&&(y(!1),P(),p([]),R(!1))}),[m,P,N,F,r]),r?Object(O.jsxs)("div",{className:k.a.game,children:[f&&Object(O.jsx)(X,{text:f,handleClick:function(){return N.push("/")}}),Object(O.jsx)(_,Object(o.a)({handleClick:function(t,n){g(e.squares)||!v(e.squares)||M||e.squares[t]||E.current.emit("Mark",r,t)}},e)),S&&Object(O.jsx)(w,{wantRematch:M,rematchRequests:m,handleRematch:function(e){M||(R(e),p((function(t){return[].concat(Object(l.a)(t),[e])})),E.current.emit("Rematch",e,r))}})]}):Object(O.jsx)("h2",{children:" Waiting for the other player "})}var G=n(33),M=n.n(G);function R(){var e=Object(i.f)();return Object(O.jsxs)("div",{className:M.a.container,children:[Object(O.jsx)("h1",{className:M.a.title,children:"Tic-Tac-Toe"}),Object(O.jsx)(X,{text:"Single Player",handleClick:function(){return e.push("/SinglePlayer")}}),Object(O.jsx)(X,{text:"Two Player",handleClick:function(){return e.push("/TwoPlayer")}})]})}function P(){var e=b(),t=e.markSquare,n=e.toggleXTurn,r=Object(c.useCallback)((function(c,r){g(e.squares)||!v(e.squares)||e.squares[c]||(t(c,r),n())}),[t,n,e.squares]);return Object(c.useEffect)((function(){if(e.isX&&!e.xTurn||!e.isX&&e.xTurn){var t=function(e){for(var t=[],n=0;n<e.length;n++)e[n]||t.push(n);var c=Math.random()*t.length;return t[c=Math.floor(c)]}(e.squares);r(t,!e.isX)}}),[e.isX,e.xTurn,e.squares,r]),Object(O.jsxs)("div",{className:k.a.game,children:[Object(O.jsx)(_,{isX:e.isX,xTurn:e.xTurn,handleClick:r,squares:e.squares}),Object(O.jsx)(X,{handleClick:e.resetSquares,text:"Reset"})]})}var F=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(s.a,{basename:"/Tic-Tac-Toe",children:Object(O.jsxs)(i.c,{children:[Object(O.jsx)(i.a,{exact:!0,path:"/TwoPlayer",children:Object(O.jsx)(B,{})}),Object(O.jsx)(i.a,{exact:!0,path:"/SinglePlayer",children:Object(O.jsx)(P,{})}),Object(O.jsx)(i.a,{exact:!0,path:"/",children:Object(O.jsx)(R,{})})]})})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,100)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,u=t.getTTFB;n(e),c(e),r(e),a(e),u(e)}))};u.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(F,{})}),document.getElementById("root")),E()}},[[99,1,2]]]);
//# sourceMappingURL=main.0443f061.chunk.js.map